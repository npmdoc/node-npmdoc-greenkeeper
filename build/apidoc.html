<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://greenkeeper.io"

    >greenkeeper (v4.2.1)</a>
</h1>
<h4>Your software, up to date, all the time</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper">module greenkeeper</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.greenkeeper">
            function <span class="apidocSignatureSpan"></span>greenkeeper
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.config">
            function <span class="apidocSignatureSpan">greenkeeper.</span>config
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.disable">
            function <span class="apidocSignatureSpan">greenkeeper.</span>disable
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.enable">
            function <span class="apidocSignatureSpan">greenkeeper.</span>enable
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.evilhackerdude">
            function <span class="apidocSignatureSpan">greenkeeper.</span>evilhackerdude
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.faq">
            function <span class="apidocSignatureSpan">greenkeeper.</span>faq
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.info">
            function <span class="apidocSignatureSpan">greenkeeper.</span>info
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.lewis">
            function <span class="apidocSignatureSpan">greenkeeper.</span>lewis
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.list">
            function <span class="apidocSignatureSpan">greenkeeper.</span>list
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.login">
            function <span class="apidocSignatureSpan">greenkeeper.</span>login
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.logout">
            function <span class="apidocSignatureSpan">greenkeeper.</span>logout
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.npm_verify">
            function <span class="apidocSignatureSpan">greenkeeper.</span>npm_verify
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.organization_access">
            function <span class="apidocSignatureSpan">greenkeeper.</span>organization_access
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.postpublish">
            function <span class="apidocSignatureSpan">greenkeeper.</span>postpublish
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.signup">
            function <span class="apidocSignatureSpan">greenkeeper.</span>signup
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.start">
            function <span class="apidocSignatureSpan">greenkeeper.</span>start
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.support">
            function <span class="apidocSignatureSpan">greenkeeper.</span>support
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.sync">
            function <span class="apidocSignatureSpan">greenkeeper.</span>sync
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.toString">
            function <span class="apidocSignatureSpan">greenkeeper.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.upgrade">
            function <span class="apidocSignatureSpan">greenkeeper.</span>upgrade
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.web_app">
            function <span class="apidocSignatureSpan">greenkeeper.</span>web_app
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.whoami">
            function <span class="apidocSignatureSpan">greenkeeper.</span>whoami
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.config">module greenkeeper.config</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.config.config">
            function <span class="apidocSignatureSpan">greenkeeper.</span>config
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.disable">module greenkeeper.disable</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.disable.disable">
            function <span class="apidocSignatureSpan">greenkeeper.</span>disable
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.enable">module greenkeeper.enable</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.enable.enable">
            function <span class="apidocSignatureSpan">greenkeeper.</span>enable
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.evilhackerdude">module greenkeeper.evilhackerdude</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.evilhackerdude.evilhackerdude">
            function <span class="apidocSignatureSpan">greenkeeper.</span>evilhackerdude
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.faq">module greenkeeper.faq</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.faq.faq">
            function <span class="apidocSignatureSpan">greenkeeper.</span>faq
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.info">module greenkeeper.info</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.info.info">
            function <span class="apidocSignatureSpan">greenkeeper.</span>info
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.lewis">module greenkeeper.lewis</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.lewis.lewis">
            function <span class="apidocSignatureSpan">greenkeeper.</span>lewis
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.list">module greenkeeper.list</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.list.list">
            function <span class="apidocSignatureSpan">greenkeeper.</span>list
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.login">module greenkeeper.login</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.login.login">
            function <span class="apidocSignatureSpan">greenkeeper.</span>login
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.logout">module greenkeeper.logout</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.logout.logout">
            function <span class="apidocSignatureSpan">greenkeeper.</span>logout
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.npm_verify">module greenkeeper.npm_verify</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.npm_verify.npm_verify">
            function <span class="apidocSignatureSpan">greenkeeper.</span>npm_verify
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.organization_access">module greenkeeper.organization_access</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.organization_access.organization_access">
            function <span class="apidocSignatureSpan">greenkeeper.</span>organization_access
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.postpublish">module greenkeeper.postpublish</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.postpublish.postpublish">
            function <span class="apidocSignatureSpan">greenkeeper.</span>postpublish
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.signup">module greenkeeper.signup</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.signup.signup">
            function <span class="apidocSignatureSpan">greenkeeper.</span>signup
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.start">module greenkeeper.start</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.start.start">
            function <span class="apidocSignatureSpan">greenkeeper.</span>start
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.support">module greenkeeper.support</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.support.support">
            function <span class="apidocSignatureSpan">greenkeeper.</span>support
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.sync">module greenkeeper.sync</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.sync.sync">
            function <span class="apidocSignatureSpan">greenkeeper.</span>sync
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.toString">module greenkeeper.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.toString.toString">
            function <span class="apidocSignatureSpan">greenkeeper.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.upgrade">module greenkeeper.upgrade</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.upgrade.upgrade">
            function <span class="apidocSignatureSpan">greenkeeper.</span>upgrade
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.web_app">module greenkeeper.web_app</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.web_app.web_app">
            function <span class="apidocSignatureSpan">greenkeeper.</span>web_app
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.greenkeeper.whoami">module greenkeeper.whoami</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.greenkeeper.whoami.whoami">
            function <span class="apidocSignatureSpan">greenkeeper.</span>whoami
            <span class="apidocSignatureSpan">(flags)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper" id="apidoc.module.greenkeeper">module greenkeeper</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.greenkeeper" id="apidoc.element.greenkeeper.greenkeeper">
        function <span class="apidocSignatureSpan"></span>greenkeeper
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function greenkeeper() {
  if (pkg.version !== &#x27;0.0.0-placeholder&#x27;) require(&#x27;update-notifier&#x27;)({pkg: pkg}).notify()

  log.levels.http = 1500

  log.level = flags.loglevel || &#x27;info&#x27;
  log.headingStyle = {fg: &#x27;white&#x27;}
  log.heading = process.platform === &#x27;darwin&#x27; ? emoji.get(&#x27;palm_tree&#x27;) + &#x27; &#x27; : &#x27;&#x27;

  log.verbose(&#x27;cli&#x27;, &#x27;arguments&#x27;, hideSecrets(flags))

  if (flags.version) {
    console.log(pkg.version || &#x27;development&#x27;)
    process.exit(0)
  }

  var command = commands.all[((flags.argv.remain || []).shift() || &#x27;&#x27;).toLowerCase()]

  if (flags.help || !command) {
    process.stdout.write(story.usage())
    process.exit(0)
  }

  if (flags.force) log.warn(&#x27;cli&#x27;, &#x27;using --force&#x27;)

  if (!flags.force &#x26;&#x26; command !== &#x27;config&#x27; &#x26;&#x26; !isURL(flags.api)) {
    log.error(&#x27;cli&#x27;, &#x27;API endpoint is not a valid URL.&#x27;, flags.api)
    process.exit(1)
  }

  if (flags.api === &#x27;https://api.greenkeeper.io/&#x27; &#x26;&#x26; (flags.integration_beta_banner || 0) &#x3c; 10) {
    var boxen = require(&#x27;boxen&#x27;)
    var chalk = require(&#x27;chalk&#x27;)
    console.error(boxen(&#x27;Check out our all new GitHub Integration: &#x27; + chalk.yellow(&#x27;https://git.io/uptodate&#x27;), {padding: 1, borderStyle
: &#x27;double&#x27;, borderColor: &#x27;green&#x27;}))
    flags._rc.set(&#x27;integration_beta_banner&#x27;, (flags.integration_beta_banner || 0) + 1)
  }

  process.on(&#x27;exit&#x27;, function (code) {
    if (code !== 2) return

    var chalk = require(&#x27;chalk&#x27;)
    log.error(&#x27;unknown&#x27;, &#x27;Uhm, this was an unexpected error. Please try again.&#x27;)
    log.error(&#x27;unknown&#x27;, &#x27;If this keeps reappearing – please let us know &#x27; + chalk.yellow(&#x27;greenkeeper support&#x27;))
  })

  require(&#x27;./&#x27; + command)(flags, pkg)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.config" id="apidoc.element.greenkeeper.config">
        function <span class="apidocSignatureSpan">greenkeeper.</span>config
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">config = function (flags) {
  var commands = flags.argv.remain
  var command = commands.shift()

  switch (aliases[command]) {
    case &#x27;get&#x27;:
      return get(commands)
    case &#x27;set&#x27;:
      return set(commands)
    case &#x27;delete&#x27;:
      return del(commands)
    case &#x27;list&#x27;:
      return list(commands)
    case &#x27;path&#x27;:
      return console.log(rc.getPath())
    default:
      log.info(&#x27;config&#x27;, rc.getPath())
      log.error(&#x27;config&#x27;, [
        &#x27;Usage:&#x27;,
        chalk.yellow(&#x27;greenkeeper config set &#x3c;key&#x3e; &#x3c;value&#x3e;&#x27;),
        chalk.yellow(&#x27;greenkeeper config get [&#x3c;key&#x3e;]&#x27;),
        chalk.yellow(&#x27;greenkeeper config delete &#x3c;key&#x3e;&#x27;),
        chalk.yellow(&#x27;greenkeeper config list&#x27;)
      ].join(&#x27;\n&#x27;))
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.disable" id="apidoc.element.greenkeeper.disable">
        function <span class="apidocSignatureSpan">greenkeeper.</span>disable
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disable = function (flags) {
  log.verbose(&#x27;disable&#x27;, &#x27;Starting command&#x27;)

  if (!flags.token) {
    log.error(&#x27;disable&#x27;, story.error_login_first)
    process.exit(1)
  }

  if (flags.slug) return disableCommand(null, flags.slug)

  require(&#x27;github-slug&#x27;)(process.cwd(), disableCommand)

  function disableCommand (err, slug) {
    if (err || !slug) {
      log.error(&#x27;disable&#x27;, &#x27;Couldn\&#x27;t find a GitHub remote &#x22;origin&#x22; in this folder.\nTry passing the slug explicitly &#x27; + chalk.yellow
(&#x27;greenkeeper disable --slug &#x3c;user&#x3e;/&#x3c;repository&#x3e;&#x27;))
      process.exit(1)
    }

    log.info(&#x27;disable&#x27;, story.repo_info(slug))

    log.http(&#x27;disable&#x27;, &#x27;Sending request&#x27;)
    request({
      method: &#x27;DELETE&#x27;,
      url: flags.api + &#x27;packages&#x27;,
      json: true,
      headers: {
        Authorization: &#x27;Bearer &#x27; + flags.token
      },
      body: {slug: slug}
    }, function (err, res, data) {
      if (err) {
        log.error(&#x27;disable&#x27;, err.message)
        process.exit(2)
      }

      if (!data) {
        log.error(&#x27;disable&#x27;, story.error_no_data)
        process.exit(2)
      }

      if (data.noChange) {
        return log.error(&#x27;disable&#x27;, story.error_no_change(slug)) // TODO: We might not need this
      }

      if (data.ok) {
        return console.log(story.disabled(slug))
      }

      log.error(&#x27;disable&#x27;, res.statusMessage + (res.body.message ? &#x27;: &#x27; + res.body.message : &#x27;&#x27;))
      process.exit(2)
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.enable" id="apidoc.element.greenkeeper.enable">
        function <span class="apidocSignatureSpan">greenkeeper.</span>enable
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enable = function (flags) {
  log.verbose(&#x27;enable&#x27;, &#x27;Starting command&#x27;)

  if (!flags.token) {
    log.error(&#x27;enable&#x27;, story.error_login_first)
    process.exit(1)
  }

  if (flags.slug) return enableCommand(null, flags.slug)

  require(&#x27;github-slug&#x27;)(process.cwd(), enableCommand)

  function enableCommand (err, slug) {
    if (err || !slug) {
      log.error(&#x27;enable&#x27;, &#x27;Couldn’t find a GitHub remote &#x22;origin&#x22; in this folder.\nTry passing the slug explicitly &#x27; + chalk.yellow
(&#x27;greenkeeper enable --slug &#x3c;user&#x3e;/&#x3c;repository&#x3e;&#x27;))
      process.exit(1)
    }

    var pkg = {}
    if (!flags.slug) {
      try {
        pkg = JSON.parse(fs.readFileSync(path.join(process.cwd(), &#x27;package.json&#x27;)))
      } catch (e) {
        log.warn(&#x27;enable&#x27;, &#x27;No package.json present, you won’t receive pull requests&#x27;)
      }

      checkTravisyml(pkg)
    }
    var scoped = _.get(pkg, &#x27;name[0]&#x27;) === &#x27;@&#x27;

    log.info(&#x27;enable&#x27;, &#x27;The GitHub slug is:&#x27;, slug)

    enable(false)

    function enable (isSynced) {
      log.http(&#x27;enable&#x27;, &#x27;Sending request&#x27;)
      request({
        method: &#x27;POST&#x27;,
        url: flags.api + &#x27;packages&#x27;,
        json: true,
        headers: {
          Authorization: &#x27;Bearer &#x27; + flags.token
        },
        body: {slug: slug, manual_webhooks: flags.admin === false}
      }, function (err, res, data) {
        if (err) {
          log.error(&#x27;enable&#x27;, err.message)
          process.exit(2)
        }

        if (!data) {
          return log.error(&#x27;enable&#x27;, story.error_no_data)
        }

        if (data.noChange) {
          return log.error(&#x27;enable&#x27;, story.error_no_change(slug)) // TODO: We might not need this
        }

        if (data.ok) {
          console.log(story.enabled(slug))

          if (data.webhooks_secret) {
            var url = &#x27;https://greenkeeper.io/manual-webhooks.html?&#x27; + qs.encode({
              slug: slug,
              secret: data.webhooks_secret
            })
            open(url, function (err, stdout, stderr) {
              if (err) {
                console.log(&#x27;Get webhooks setup instructions at this URL:&#x27;, url)
              }
            })
          }

          if (!scoped || flags.slug || flags.postpublish === false) process.exit()

          log.info(&#x27;enable&#x27;, &#x27;This is a scoped package.&#x27;)
          log.info(&#x27;enable&#x27;, &#x27;Installing greenkeeper-postpublish module to automatically announce new versions.&#x27;)

          return postpublish(flags)
        }

        if (data.statusCode === 403) {
          log.error(&#x27;enable&#x27;, &#x27;Admin access is required to enable a repository.&#x27;)
          log.error(&#x27;enable&#x27;, &#x27;Please ask an admin on your team to enable Greenkeeper.&#x27;)
          process.exit(1)
        }

        if (data.statusCode !== 400) {
          log.error(&#x27;enable&#x27;, res.statusMessage + (res.body.message ? &#x27;: &#x27; + res.body.message : &#x27;&#x27;))
          process.exit(2)
        }

        if (isSynced) exitWithError(slug)

        log.verbose(&#x27;enable&#x27;, &#x27;Repository not found. Starting a sync.&#x27;)
        log.info(&#x27;enable&#x27;, &#x27;Synchronizing your repositories. This might take a while.&#x27;)
        sync(flags, function (err, repos) {
          if (err) {
            log.error(&#x27;enable&#x27;, &#x27;Synchronizing the repositories was not possible.&#x27;)
            exitWithError(slug)
          }
          if (_.includes(repos, slug)) {
            log.verbose(&#x27;enable&#x27;, &#x27;Repository found after sync. Trying to enable again.&#x27;)
            return enable(true)
          }
          log.verbose(&#x27;enable&#x27;, &#x27;Repository not found after sync.&#x27;)
          exitWithError(slug)
        })
      })
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.evilhackerdude" id="apidoc.element.greenkeeper.evilhackerdude">
        function <span class="apidocSignatureSpan">greenkeeper.</span>evilhackerdude
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">evilhackerdude = function (flags) {
  console.log(&#x27;We have content addressed you!&#x27;)
  open(&#x27;https://www.youtube.com/watch?v=TrcT7sseLZI&#x27;)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.faq" id="apidoc.element.greenkeeper.faq">
        function <span class="apidocSignatureSpan">greenkeeper.</span>faq
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">faq = function (flags) {
  log.verbose(&#x27;faq&#x27;, &#x27;starting command&#x27;)
  log.info(&#x27;faq&#x27;, &#x27;Opening FAQ website&#x27;)

  open(&#x27;https://greenkeeper.io/faq.html&#x27;)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.info" id="apidoc.element.greenkeeper.info">
        function <span class="apidocSignatureSpan">greenkeeper.</span>info
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function (flags) {
  log.verbose(&#x27;info&#x27;, &#x27;Starting command&#x27;)

  if (!flags.token) {
    log.error(&#x27;info&#x27;, story.error_login_first)
    process.exit(1)
  }

  if (flags.slug) return infoCommand(null, flags.slug)

  require(&#x27;github-slug&#x27;)(process.cwd(), infoCommand)

  function infoCommand (err, slug) {
    if (err || !slug) {
      log.error(&#x27;disable&#x27;, &#x27;Couldn\&#x27;t find a remote GitHub repository in this folder.\nTry passing the slug explicitly &#x27; + chalk
.yellow(&#x27;greenkeeper enable --slug &#x3c;user&#x3e;/&#x3c;repository&#x3e;&#x27;))
      process.exit(1)
    }

    log.info(&#x27;info&#x27;, &#x27;The GitHub slug is:&#x27;, slug)

    log.http(&#x27;info&#x27;, &#x27;Sending request&#x27;)
    request({
      method: &#x27;GET&#x27;,
      url: flags.api + &#x27;packages/&#x27; + slug + &#x27;?include_branches=true&#x27;,
      json: true,
      headers: {
        Authorization: &#x27;Bearer &#x27; + flags.token
      }
    }, function (err, res, data) {
      if (err) {
        log.error(&#x27;info&#x27;, err.message)
        process.exit(2)
      }

      if (data.disabled) {
        log.error(&#x27;info&#x27;, &#x27;greenkeeper isn’t enabled for this repository&#x27;)
        process.exit(1)
      }

      if (data.statusCode === 400) {
        log.error(&#x27;info&#x27;, &#x27;Couldn’t find a repository with this slug.&#x27;)
        log.error(&#x27;info&#x27;, &#x27;The repository has to exist on GitHub and it has to be public,&#x27;)
        log.error(&#x27;info&#x27;, &#x27;or you have to have to have a private plan. To verify run &#x27; + chalk.yellow(&#x27;greenkeeper whoami&#x27;))
        log.error(&#x27;info&#x27;, &#x27;If you have just recently created this repository try running &#x27; + chalk.yellow(&#x27;greenkeeper sync&#x27;))
        log.error(&#x27;info&#x27;, &#x27;You need admin access to enable repositories.&#x27;)
        log.error(&#x27;info&#x27;, &#x27;If you think this error really shouldn’t appear let us look into it with &#x27; + chalk.yellow(&#x27;greenkeeper
 support&#x27;))
        process.exit(1)
      }

      if (data.statusCode === 409) {
        log.error(&#x27;info&#x27;, &#x27;Conflict! We appear to have this repository in our system several times\nThis can happen if you have
moved or recreated the repository\nWe can fix this though, please contact us at &#x27; + chalk.yellow(&#x27;greenkeeper support&#x27;))
        process.exit(1)
      }

      if (data.error) {
        log.error(&#x27;info&#x27;, data.error)
        process.exit(2)
      }

      console.log(&#x27;greenkeeper is enabled for this repository&#x27;)
      var prs = data.branches
        .filter(function (branch) {
          return branch.pr &#x26;&#x26; branch.pr.state === &#x27;open&#x27;
        })
      if (prs.length &#x3e; 0) console.log(&#x27;Open pull requests: &#x27;)
      prs.forEach(function (branch) {
        console.log(&#x27;- &#x27; + chalk.green(&#x27;#&#x27; + branch.pr.number) + &#x27; &#x27; + branch.dependency + &#x27;@&#x27; + branch.version + &#x27; &#x27; + chalk.grey
(moment(branch.created_at).fromNow()))
      })
      if (prs.length &#x3e; 0) console.log(&#x27;Older pull requests might not be shown.&#x27;)
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;delete&#x27;:
  return del(commands)
case &#x27;list&#x27;:
  return list(commands)
case &#x27;path&#x27;:
  return console.log(rc.getPath())
default:
  log.<span class="apidocCodeKeywordSpan">info</span>(&#x27;config&#x27;, rc.getPath())
  log.error(&#x27;config&#x27;, [
    &#x27;Usage:&#x27;,
    chalk.yellow(&#x27;greenkeeper config set &#x3c;key&#x3e; &#x3c;value&#x3e;&#x27;),
    chalk.yellow(&#x27;greenkeeper config get [&#x3c;key&#x3e;]&#x27;),
    chalk.yellow(&#x27;greenkeeper config delete &#x3c;key&#x3e;&#x27;),
    chalk.yellow(&#x27;greenkeeper config list&#x27;)
  ].join(&#x27;\n&#x27;))
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.lewis" id="apidoc.element.greenkeeper.lewis">
        function <span class="apidocSignatureSpan">greenkeeper.</span>lewis
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lewis = function (flags) {
  console.log(woerter[Math.floor(Math.random() * woerter.length)])
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.list" id="apidoc.element.greenkeeper.list">
        function <span class="apidocSignatureSpan">greenkeeper.</span>list
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">list = function (flags) {
  log.verbose(&#x27;list&#x27;, &#x27;starting command&#x27;)

  if (!flags.token) {
    log.error(&#x27;list&#x27;, &#x27;Login required. Run &#x27; + chalk.yellow(&#x27;greenkeeper login&#x27;))
    process.exit(1)
  }

  log.http(&#x27;list&#x27;, &#x27;Sending request&#x27;)
  request({
    url: flags.api + &#x27;packages&#x27;,
    json: true,
    headers: {
      Authorization: &#x27;Bearer &#x27; + flags.token
    }
  }, function (err, res, data) {
    if (err) {
      log.error(&#x27;list&#x27;, err.message)
      process.exit(2)
    }

    if (!data.packages) {
      log.error(&#x27;list&#x27;, res.statusMessage + (res.body.message ? &#x27;: &#x27; + res.body.message : &#x27;&#x27;))
      process.exit(2)
    }

    if (!data.packages.length) {
      log.error(&#x27;list&#x27;, &#x27;No repositories enabled yet&#x27;)
    }
    _.orderBy(data.all, [&#x27;is_enabler&#x27;, &#x27;name&#x27;], [&#x27;desc&#x27;, &#x27;asc&#x27;])
    .forEach(function (repo) {
      if (!repo.enabled) return
      console.log(repo.name, repo.is_enabler ? chalk.green(&#x27;(enabled by you)&#x27;) : &#x27;&#x27;)
    })
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.login" id="apidoc.element.greenkeeper.login">
        function <span class="apidocSignatureSpan">greenkeeper.</span>login
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">login = function (flags) {
  logo()
  log.verbose(&#x27;login&#x27;, &#x27;starting command&#x27;)

  if (flags.token &#x26;&#x26; !flags.force) {
    log.error(&#x27;login&#x27;, story.error_already_logged_in)
    process.exit(1)
  }

  var id = randomString({length: 32})
  log.verbose(&#x27;login&#x27;, &#x27;id&#x27;, id)

  log.verbose(&#x27;login&#x27;, &#x27;Getting token from API and opening GitHub login&#x27;)

  getToken(flags, id, function (data) {
    if (data.disallowedSignup) {
      log.info(&#x27;login&#x27;, &#x27;Signing up for the old Greenkeeper oAuth application is no longer supported.&#x27;)
      log.info(&#x27;login&#x27;, &#x27;The new GitHub Integration was opened instead.&#x27;)
      return
    }

    rc.set(&#x27;api&#x27;, flags.api)
    rc.set(nerfDart(flags.api) + &#x27;token&#x27;, data.token)
    rc.set(nerfDart(flags.api) + &#x27;admin&#x27;, flags.admin)

    log.info(&#x27;login&#x27;, &#x27;That was successful, now syncing all your GitHub repositories&#x27;)
    flags.token = data.token
    sync(flags, function (err, repos) {
      if (err) {
        log.error(&#x27;login&#x27;, err.message)
        process.exit(2)
      }
      log.info(&#x27;login&#x27;, &#x27;Done syncing &#x27; + repos.length + &#x27; repositories&#x27;)
      console.log(&#x27;You are now logged in, synced and all set up!&#x27;)
      log.info(&#x27;login&#x27;, &#x27;Find out how to get started with&#x27;, &#x27;&#x27; + chalk.yellow(&#x27;greenkeeper start&#x27;))
    })
  })

  if (!flags[&#x27;private&#x27;] &#x26;&#x26; !_.has(flags, &#x27;private&#x27;)) {
    return checkEnterprise(function (err, flags, isEnterprise) {
      if (err) {
        log.error(&#x27;login&#x27;, err.message)
        process.exit(2)
      }
      openAuth(isEnterprise)
    })(flags)
  }

  openAuth(flags[&#x27;private&#x27;])

  function openAuth (pvt) {
    var query = {
      id: id,
      private: pvt
    }

    if (flags.admin === false) {
      query.no_admin = true
      query.access_token = flags.token
    }

    var url = flags.api + &#x27;login?&#x27; + qs.encode(query)

    log.verbose(&#x27;login&#x27;, &#x27;Open &#x27; + url)
    open(url, function (err, stdout, stderr) {
      if (err) {
        console.log(&#x27;Login from this URL:&#x27;, url)
      }
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.logout" id="apidoc.element.greenkeeper.logout">
        function <span class="apidocSignatureSpan">greenkeeper.</span>logout
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logout = function (flags) {
  log.verbose(&#x27;logout&#x27;, &#x27;starting command&#x27;)

  if (!flags.token) {
    log.error(&#x27;logout&#x27;, story.error_already_logged_out)
    process.exit(1)
  }

  log.http(&#x27;logout&#x27;, &#x27;Sending request&#x27;)
  request({
    method: &#x27;DELETE&#x27;,
    json: true,
    url: flags.api + &#x27;tokens&#x27;,
    headers: {
      Authorization: &#x27;Bearer &#x27; + flags.token
    }
  }, function (err, res, data) {
    if (err) {
      log.error(&#x27;logout&#x27;, err.message)
      process.exit(2)
    }

    if (data.ok) {
      rc.unset(&#x27;token&#x27;)
      rc.unset(nerfDart(flags.api) + &#x27;token&#x27;)
      return console.log(story.logged_out)
    }

    log.error(&#x27;logout&#x27;, res.statusMessage + (res.body.message ? &#x27;: &#x27; + res.body.message : &#x27;&#x27;))
    process.exit(2)
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.npm_verify" id="apidoc.element.greenkeeper.npm_verify">
        function <span class="apidocSignatureSpan">greenkeeper.</span>npm_verify
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">npm_verify = function (flags) {
  var pkg
  try {
    pkg = JSON.parse(fs.readFileSync(path.join(process.cwd(), &#x27;package.json&#x27;)))
  } catch (e) {
    log.error(&#x27;npm-verify&#x27;, &#x27;No package.json in this project&#x27;)
    process.exit(1)
  }

  var dependencies = Object.keys(_.assign(
    {},
    pkg.dependencies,
    pkg.devDependencies,
    pkg.optionalDependencies
  ))

  var scoped = dependencies.filter(function (dependency) {
    return dependency[0] === &#x27;@&#x27;
  })

  if (scoped.length === 0) {
    log.info(&#x27;npm-verify&#x27;, &#x27;No scoped packages.&#x27;)
    process.exit()
  }

  request({
    method: &#x27;POST&#x27;,
    url: flags.api + &#x27;npm/verify&#x27;,
    json: true,
    headers: {
      Authorization: &#x27;Bearer &#x27; + flags.token
    },
    body: {
      dependencies: scoped,
      organization: flags.organization
    }
  }, function (err, res, results) {
    if (err) {
      log.error(&#x27;npm-verify&#x27;, err)
      process.exit(2)
    }
    var failed = _.some(results.dependencies, [&#x27;valid&#x27;, false])
    if (failed) log.info(&#x27;npm-verify&#x27;, &#x27;You might need to run &#x27; + chalk.yellow(&#x27;greenkeeper npm-access&#x27;))
    results.dependencies.forEach(function (dep) {
      console.log(&#x27;   &#x27;, chalk.bold(dep.name), dep.valid
        ? process.platform === &#x27;darwin&#x27; ? emoji.get(&#x27;white_check_mark&#x27;) : chalk.green(&#x27;accessible&#x27;)
        : process.platform === &#x27;darwin&#x27; ? emoji.get(&#x27;x&#x27;) : chalk.red(&#x27;inaccessible&#x27;)
      )
    })
    process.exit()
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.organization_access" id="apidoc.element.greenkeeper.organization_access">
        function <span class="apidocSignatureSpan">greenkeeper.</span>organization_access
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">organization_access = function (flags) {
  log.verbose(&#x27;organization-access&#x27;, &#x27;starting command&#x27;)

  if (!flags.token) {
    log.info(&#x27;organization-access&#x27;, &#x27;Not logged in.&#x27;)
    process.exit(1)
  }

  story.forEach(function (message) {
    log.info(&#x27;organization-access&#x27;, message)
  })
  var url = flags.api + &#x27;login/organization-access&#x27;
  log.verbose(&#x27;organization-access&#x27;, &#x27;Open &#x27; + url)
  open(url)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.postpublish" id="apidoc.element.greenkeeper.postpublish">
        function <span class="apidocSignatureSpan">greenkeeper.</span>postpublish
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">postpublish = function (flags) {
  var pkgPath = path.join(process.cwd(), &#x27;package.json&#x27;)
  var pkgFile = fs.readFileSync(pkgPath)
  var pkg
  try {
    pkg = jsonPreserveIndent(pkgFile)
  } catch (e) {
    log.error(&#x27;postpublish&#x27;, &#x27;Could not parse package.json&#x27;)
    process.exit(1)
  }

  if (pkg.get(&#x27;name[0]&#x27;) !== &#x27;@&#x27;) log.warn(&#x27;postpublish&#x27;, &#x27;This is not a scoped package. &#x22;greenkeeper-postpublish&#x22; should not be
 required.&#x27;)

  if (pkg.get(&#x27;devDependencies.greenkeeper-postpublish&#x27;)) {
    log.info(&#x27;postpublish&#x27;, &#x27;greenkeeper-postpublish is already installed&#x27;)
    process.exit()
  }

  if (pkg.get(&#x27;scripts.postpublish&#x27;)) {
    log.error(&#x27;postpublish&#x27;, &#x27;There is already a postpublish script present&#x27;, &#x27;&#x22;postpublish&#x22;: &#x22;&#x27; + pkg.scripts.postpublish + &#x27;&#x22;&#x27;)
    process.exit(1)
  }

  pkg.set(&#x27;scripts.postpublish&#x27;, &#x27;greenkeeper-postpublish&#x27;)

  fs.writeFileSync(pkgPath, pkg.format())

  log.verbose(&#x27;postpublish&#x27;, &#x27;Updated the package.json&#x27;)

  log.info(&#x27;postpublish&#x27;, &#x27;Installing greenkeeper-postpublish&#x27;)
  var spin = spinner()
  exec(&#x27;npm install greenkeeper-postpublish --save-dev&#x27;, function (err, stdout, stderr) {
    clearInterval(spin)
    if (err) {
      log.error(&#x27;postpublish&#x27;, &#x27;Failed to install greenkeeper-postpublish&#x27;, err)
      process.exit(1)
    }
    log.info(&#x27;postpublish&#x27;, &#x27;greenkeeper-postpublish installed and added as devDependency&#x27;)
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.signup" id="apidoc.element.greenkeeper.signup">
        function <span class="apidocSignatureSpan">greenkeeper.</span>signup
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">signup = function (flags) {
  log.verbose(&#x27;signup&#x27;, &#x27;starting command&#x27;)

  log.info(&#x27;signup&#x27;, &#x27;Signing up for the old Greenkeeper oAuth application is no longer supported.&#x27;)
  log.info(&#x27;signup&#x27;, &#x27;Opening the new GitHub Integration instead.&#x27;)

  open(&#x27;https://git.io/uptodate&#x27;)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.start" id="apidoc.element.greenkeeper.start">
        function <span class="apidocSignatureSpan">greenkeeper.</span>start
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (flags) {
  process.stdout.write(story())
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.support" id="apidoc.element.greenkeeper.support">
        function <span class="apidocSignatureSpan">greenkeeper.</span>support
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">support = function (flags) {
  log.verbose(&#x27;support&#x27;, &#x27;starting command&#x27;)

  if (!flags.token) {
    log.info(&#x27;support&#x27;, &#x27;Not logged in. Opening GitHub issues.&#x27;)
    open(&#x27;https://github.com/greenkeeperio/greenkeeper&#x27;)
    process.exit(1)
  }

  log.info(&#x27;support&#x27;, &#x27;Opening GitHub issues (free plan) or Intercom&#x27;)

  open(flags.api + &#x27;support?access_token=&#x27; + flags.token)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.sync" id="apidoc.element.greenkeeper.sync">
        function <span class="apidocSignatureSpan">greenkeeper.</span>sync
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sync = function (flags) {
  log.verbose(&#x27;sync&#x27;, &#x27;starting command&#x27;)

  if (!flags.token) {
    log.error(&#x27;sync&#x27;, story.error_no_login_first)
    process.exit(1)
  }

  log.http(&#x27;sync&#x27;, &#x27;Sending request&#x27;)
  log.info(&#x27;sync&#x27;, &#x27;This might take a while&#x27;)
  sync(flags, function (err, repos) {
    if (err) {
      log.error(&#x27;sync&#x27;, err.message)
      process.exit(2)
    }
    console.log(repos.sort().join(&#x27;\n&#x27;))
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.toString" id="apidoc.element.greenkeeper.toString">
        function <span class="apidocSignatureSpan">greenkeeper.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
    return text;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.upgrade" id="apidoc.element.greenkeeper.upgrade">
        function <span class="apidocSignatureSpan">greenkeeper.</span>upgrade
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upgrade = function (flags) {
  if (flags.api === &#x27;https://api.greenkeeper.io/&#x27;) return callback(null, flags, false)
  request({
    method: &#x27;GET&#x27;,
    json: true,
    url: flags.api
  }, function (err, res, data) {
    if (err) return callback(err, flags)
    if (res.statusCode !== 200) return callback(new Error(res.statusCode), flags)
    callback(null, flags, data.environment === &#x27;enterprise&#x27;)
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.web_app" id="apidoc.element.greenkeeper.web_app">
        function <span class="apidocSignatureSpan">greenkeeper.</span>web_app
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">web_app = function (flags) {
  var url = &#x27;https://app.greenkeeper.io&#x27;
  open(url, function (err) {
    if (err) return console.log(&#x27;Open this URL:&#x27;, url)
    rc.set(&#x27;web_interface_beta_banner&#x27;, 11)
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.greenkeeper.whoami" id="apidoc.element.greenkeeper.whoami">
        function <span class="apidocSignatureSpan">greenkeeper.</span>whoami
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">whoami = function (flags) {
  log.verbose(&#x27;whoami&#x27;, &#x27;starting command&#x27;)

  if (!flags.token) {
    log.error(&#x27;whoami&#x27;, &#x27;Login required. Run &#x27; + chalk.yellow(&#x27;greenkeeper login&#x27;))
    process.exit(1)
  }

  log.info(&#x27;whoami&#x27;, &#x27;If you’re missing organizations run &#x27; + chalk.yellow(&#x27;greenkeeper access&#x27;))

  log.http(&#x27;whoami&#x27;, &#x27;Sending request&#x27;)
  request({
    url: flags.api + &#x27;whoami&#x27;,
    json: true,
    headers: {
      Authorization: &#x27;Bearer &#x27; + flags.token
    }
  }, function (err, res, data) {
    if (err) {
      log.error(&#x27;whoami&#x27;, err.message)
      process.exit(2)
    }

    if (!data.name) {
      log.error(&#x27;whoami&#x27;, res.statusMessage + (res.body.message ? &#x27;: &#x27; + res.body.message : &#x27;&#x27;))
      process.exit(2)
    }

    console.log(story.name(data))
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.config" id="apidoc.module.greenkeeper.config">module greenkeeper.config</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.config.config" id="apidoc.element.greenkeeper.config.config">
        function <span class="apidocSignatureSpan">greenkeeper.</span>config
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">config = function (flags) {
  var commands = flags.argv.remain
  var command = commands.shift()

  switch (aliases[command]) {
    case &#x27;get&#x27;:
      return get(commands)
    case &#x27;set&#x27;:
      return set(commands)
    case &#x27;delete&#x27;:
      return del(commands)
    case &#x27;list&#x27;:
      return list(commands)
    case &#x27;path&#x27;:
      return console.log(rc.getPath())
    default:
      log.info(&#x27;config&#x27;, rc.getPath())
      log.error(&#x27;config&#x27;, [
        &#x27;Usage:&#x27;,
        chalk.yellow(&#x27;greenkeeper config set &#x3c;key&#x3e; &#x3c;value&#x3e;&#x27;),
        chalk.yellow(&#x27;greenkeeper config get [&#x3c;key&#x3e;]&#x27;),
        chalk.yellow(&#x27;greenkeeper config delete &#x3c;key&#x3e;&#x27;),
        chalk.yellow(&#x27;greenkeeper config list&#x27;)
      ].join(&#x27;\n&#x27;))
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.disable" id="apidoc.module.greenkeeper.disable">module greenkeeper.disable</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.disable.disable" id="apidoc.element.greenkeeper.disable.disable">
        function <span class="apidocSignatureSpan">greenkeeper.</span>disable
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disable = function (flags) {
  log.verbose(&#x27;disable&#x27;, &#x27;Starting command&#x27;)

  if (!flags.token) {
    log.error(&#x27;disable&#x27;, story.error_login_first)
    process.exit(1)
  }

  if (flags.slug) return disableCommand(null, flags.slug)

  require(&#x27;github-slug&#x27;)(process.cwd(), disableCommand)

  function disableCommand (err, slug) {
    if (err || !slug) {
      log.error(&#x27;disable&#x27;, &#x27;Couldn\&#x27;t find a GitHub remote &#x22;origin&#x22; in this folder.\nTry passing the slug explicitly &#x27; + chalk.yellow
(&#x27;greenkeeper disable --slug &#x3c;user&#x3e;/&#x3c;repository&#x3e;&#x27;))
      process.exit(1)
    }

    log.info(&#x27;disable&#x27;, story.repo_info(slug))

    log.http(&#x27;disable&#x27;, &#x27;Sending request&#x27;)
    request({
      method: &#x27;DELETE&#x27;,
      url: flags.api + &#x27;packages&#x27;,
      json: true,
      headers: {
        Authorization: &#x27;Bearer &#x27; + flags.token
      },
      body: {slug: slug}
    }, function (err, res, data) {
      if (err) {
        log.error(&#x27;disable&#x27;, err.message)
        process.exit(2)
      }

      if (!data) {
        log.error(&#x27;disable&#x27;, story.error_no_data)
        process.exit(2)
      }

      if (data.noChange) {
        return log.error(&#x27;disable&#x27;, story.error_no_change(slug)) // TODO: We might not need this
      }

      if (data.ok) {
        return console.log(story.disabled(slug))
      }

      log.error(&#x27;disable&#x27;, res.statusMessage + (res.body.message ? &#x27;: &#x27; + res.body.message : &#x27;&#x27;))
      process.exit(2)
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.enable" id="apidoc.module.greenkeeper.enable">module greenkeeper.enable</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.enable.enable" id="apidoc.element.greenkeeper.enable.enable">
        function <span class="apidocSignatureSpan">greenkeeper.</span>enable
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enable = function (flags) {
  log.verbose(&#x27;enable&#x27;, &#x27;Starting command&#x27;)

  if (!flags.token) {
    log.error(&#x27;enable&#x27;, story.error_login_first)
    process.exit(1)
  }

  if (flags.slug) return enableCommand(null, flags.slug)

  require(&#x27;github-slug&#x27;)(process.cwd(), enableCommand)

  function enableCommand (err, slug) {
    if (err || !slug) {
      log.error(&#x27;enable&#x27;, &#x27;Couldn’t find a GitHub remote &#x22;origin&#x22; in this folder.\nTry passing the slug explicitly &#x27; + chalk.yellow
(&#x27;greenkeeper enable --slug &#x3c;user&#x3e;/&#x3c;repository&#x3e;&#x27;))
      process.exit(1)
    }

    var pkg = {}
    if (!flags.slug) {
      try {
        pkg = JSON.parse(fs.readFileSync(path.join(process.cwd(), &#x27;package.json&#x27;)))
      } catch (e) {
        log.warn(&#x27;enable&#x27;, &#x27;No package.json present, you won’t receive pull requests&#x27;)
      }

      checkTravisyml(pkg)
    }
    var scoped = _.get(pkg, &#x27;name[0]&#x27;) === &#x27;@&#x27;

    log.info(&#x27;enable&#x27;, &#x27;The GitHub slug is:&#x27;, slug)

    enable(false)

    function enable (isSynced) {
      log.http(&#x27;enable&#x27;, &#x27;Sending request&#x27;)
      request({
        method: &#x27;POST&#x27;,
        url: flags.api + &#x27;packages&#x27;,
        json: true,
        headers: {
          Authorization: &#x27;Bearer &#x27; + flags.token
        },
        body: {slug: slug, manual_webhooks: flags.admin === false}
      }, function (err, res, data) {
        if (err) {
          log.error(&#x27;enable&#x27;, err.message)
          process.exit(2)
        }

        if (!data) {
          return log.error(&#x27;enable&#x27;, story.error_no_data)
        }

        if (data.noChange) {
          return log.error(&#x27;enable&#x27;, story.error_no_change(slug)) // TODO: We might not need this
        }

        if (data.ok) {
          console.log(story.enabled(slug))

          if (data.webhooks_secret) {
            var url = &#x27;https://greenkeeper.io/manual-webhooks.html?&#x27; + qs.encode({
              slug: slug,
              secret: data.webhooks_secret
            })
            open(url, function (err, stdout, stderr) {
              if (err) {
                console.log(&#x27;Get webhooks setup instructions at this URL:&#x27;, url)
              }
            })
          }

          if (!scoped || flags.slug || flags.postpublish === false) process.exit()

          log.info(&#x27;enable&#x27;, &#x27;This is a scoped package.&#x27;)
          log.info(&#x27;enable&#x27;, &#x27;Installing greenkeeper-postpublish module to automatically announce new versions.&#x27;)

          return postpublish(flags)
        }

        if (data.statusCode === 403) {
          log.error(&#x27;enable&#x27;, &#x27;Admin access is required to enable a repository.&#x27;)
          log.error(&#x27;enable&#x27;, &#x27;Please ask an admin on your team to enable Greenkeeper.&#x27;)
          process.exit(1)
        }

        if (data.statusCode !== 400) {
          log.error(&#x27;enable&#x27;, res.statusMessage + (res.body.message ? &#x27;: &#x27; + res.body.message : &#x27;&#x27;))
          process.exit(2)
        }

        if (isSynced) exitWithError(slug)

        log.verbose(&#x27;enable&#x27;, &#x27;Repository not found. Starting a sync.&#x27;)
        log.info(&#x27;enable&#x27;, &#x27;Synchronizing your repositories. This might take a while.&#x27;)
        sync(flags, function (err, repos) {
          if (err) {
            log.error(&#x27;enable&#x27;, &#x27;Synchronizing the repositories was not possible.&#x27;)
            exitWithError(slug)
          }
          if (_.includes(repos, slug)) {
            log.verbose(&#x27;enable&#x27;, &#x27;Repository found after sync. Trying to enable again.&#x27;)
            return enable(true)
          }
          log.verbose(&#x27;enable&#x27;, &#x27;Repository not found after sync.&#x27;)
          exitWithError(slug)
        })
      })
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.evilhackerdude" id="apidoc.module.greenkeeper.evilhackerdude">module greenkeeper.evilhackerdude</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.evilhackerdude.evilhackerdude" id="apidoc.element.greenkeeper.evilhackerdude.evilhackerdude">
        function <span class="apidocSignatureSpan">greenkeeper.</span>evilhackerdude
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">evilhackerdude = function (flags) {
  console.log(&#x27;We have content addressed you!&#x27;)
  open(&#x27;https://www.youtube.com/watch?v=TrcT7sseLZI&#x27;)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.faq" id="apidoc.module.greenkeeper.faq">module greenkeeper.faq</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.faq.faq" id="apidoc.element.greenkeeper.faq.faq">
        function <span class="apidocSignatureSpan">greenkeeper.</span>faq
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">faq = function (flags) {
  log.verbose(&#x27;faq&#x27;, &#x27;starting command&#x27;)
  log.info(&#x27;faq&#x27;, &#x27;Opening FAQ website&#x27;)

  open(&#x27;https://greenkeeper.io/faq.html&#x27;)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.info" id="apidoc.module.greenkeeper.info">module greenkeeper.info</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.info.info" id="apidoc.element.greenkeeper.info.info">
        function <span class="apidocSignatureSpan">greenkeeper.</span>info
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function (flags) {
  log.verbose(&#x27;info&#x27;, &#x27;Starting command&#x27;)

  if (!flags.token) {
    log.error(&#x27;info&#x27;, story.error_login_first)
    process.exit(1)
  }

  if (flags.slug) return infoCommand(null, flags.slug)

  require(&#x27;github-slug&#x27;)(process.cwd(), infoCommand)

  function infoCommand (err, slug) {
    if (err || !slug) {
      log.error(&#x27;disable&#x27;, &#x27;Couldn\&#x27;t find a remote GitHub repository in this folder.\nTry passing the slug explicitly &#x27; + chalk
.yellow(&#x27;greenkeeper enable --slug &#x3c;user&#x3e;/&#x3c;repository&#x3e;&#x27;))
      process.exit(1)
    }

    log.info(&#x27;info&#x27;, &#x27;The GitHub slug is:&#x27;, slug)

    log.http(&#x27;info&#x27;, &#x27;Sending request&#x27;)
    request({
      method: &#x27;GET&#x27;,
      url: flags.api + &#x27;packages/&#x27; + slug + &#x27;?include_branches=true&#x27;,
      json: true,
      headers: {
        Authorization: &#x27;Bearer &#x27; + flags.token
      }
    }, function (err, res, data) {
      if (err) {
        log.error(&#x27;info&#x27;, err.message)
        process.exit(2)
      }

      if (data.disabled) {
        log.error(&#x27;info&#x27;, &#x27;greenkeeper isn’t enabled for this repository&#x27;)
        process.exit(1)
      }

      if (data.statusCode === 400) {
        log.error(&#x27;info&#x27;, &#x27;Couldn’t find a repository with this slug.&#x27;)
        log.error(&#x27;info&#x27;, &#x27;The repository has to exist on GitHub and it has to be public,&#x27;)
        log.error(&#x27;info&#x27;, &#x27;or you have to have to have a private plan. To verify run &#x27; + chalk.yellow(&#x27;greenkeeper whoami&#x27;))
        log.error(&#x27;info&#x27;, &#x27;If you have just recently created this repository try running &#x27; + chalk.yellow(&#x27;greenkeeper sync&#x27;))
        log.error(&#x27;info&#x27;, &#x27;You need admin access to enable repositories.&#x27;)
        log.error(&#x27;info&#x27;, &#x27;If you think this error really shouldn’t appear let us look into it with &#x27; + chalk.yellow(&#x27;greenkeeper
 support&#x27;))
        process.exit(1)
      }

      if (data.statusCode === 409) {
        log.error(&#x27;info&#x27;, &#x27;Conflict! We appear to have this repository in our system several times\nThis can happen if you have
moved or recreated the repository\nWe can fix this though, please contact us at &#x27; + chalk.yellow(&#x27;greenkeeper support&#x27;))
        process.exit(1)
      }

      if (data.error) {
        log.error(&#x27;info&#x27;, data.error)
        process.exit(2)
      }

      console.log(&#x27;greenkeeper is enabled for this repository&#x27;)
      var prs = data.branches
        .filter(function (branch) {
          return branch.pr &#x26;&#x26; branch.pr.state === &#x27;open&#x27;
        })
      if (prs.length &#x3e; 0) console.log(&#x27;Open pull requests: &#x27;)
      prs.forEach(function (branch) {
        console.log(&#x27;- &#x27; + chalk.green(&#x27;#&#x27; + branch.pr.number) + &#x27; &#x27; + branch.dependency + &#x27;@&#x27; + branch.version + &#x27; &#x27; + chalk.grey
(moment(branch.created_at).fromNow()))
      })
      if (prs.length &#x3e; 0) console.log(&#x27;Older pull requests might not be shown.&#x27;)
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;delete&#x27;:
  return del(commands)
case &#x27;list&#x27;:
  return list(commands)
case &#x27;path&#x27;:
  return console.log(rc.getPath())
default:
  log.<span class="apidocCodeKeywordSpan">info</span>(&#x27;config&#x27;, rc.getPath())
  log.error(&#x27;config&#x27;, [
    &#x27;Usage:&#x27;,
    chalk.yellow(&#x27;greenkeeper config set &#x3c;key&#x3e; &#x3c;value&#x3e;&#x27;),
    chalk.yellow(&#x27;greenkeeper config get [&#x3c;key&#x3e;]&#x27;),
    chalk.yellow(&#x27;greenkeeper config delete &#x3c;key&#x3e;&#x27;),
    chalk.yellow(&#x27;greenkeeper config list&#x27;)
  ].join(&#x27;\n&#x27;))
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.lewis" id="apidoc.module.greenkeeper.lewis">module greenkeeper.lewis</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.lewis.lewis" id="apidoc.element.greenkeeper.lewis.lewis">
        function <span class="apidocSignatureSpan">greenkeeper.</span>lewis
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lewis = function (flags) {
  console.log(woerter[Math.floor(Math.random() * woerter.length)])
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.list" id="apidoc.module.greenkeeper.list">module greenkeeper.list</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.list.list" id="apidoc.element.greenkeeper.list.list">
        function <span class="apidocSignatureSpan">greenkeeper.</span>list
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">list = function (flags) {
  log.verbose(&#x27;list&#x27;, &#x27;starting command&#x27;)

  if (!flags.token) {
    log.error(&#x27;list&#x27;, &#x27;Login required. Run &#x27; + chalk.yellow(&#x27;greenkeeper login&#x27;))
    process.exit(1)
  }

  log.http(&#x27;list&#x27;, &#x27;Sending request&#x27;)
  request({
    url: flags.api + &#x27;packages&#x27;,
    json: true,
    headers: {
      Authorization: &#x27;Bearer &#x27; + flags.token
    }
  }, function (err, res, data) {
    if (err) {
      log.error(&#x27;list&#x27;, err.message)
      process.exit(2)
    }

    if (!data.packages) {
      log.error(&#x27;list&#x27;, res.statusMessage + (res.body.message ? &#x27;: &#x27; + res.body.message : &#x27;&#x27;))
      process.exit(2)
    }

    if (!data.packages.length) {
      log.error(&#x27;list&#x27;, &#x27;No repositories enabled yet&#x27;)
    }
    _.orderBy(data.all, [&#x27;is_enabler&#x27;, &#x27;name&#x27;], [&#x27;desc&#x27;, &#x27;asc&#x27;])
    .forEach(function (repo) {
      if (!repo.enabled) return
      console.log(repo.name, repo.is_enabler ? chalk.green(&#x27;(enabled by you)&#x27;) : &#x27;&#x27;)
    })
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.login" id="apidoc.module.greenkeeper.login">module greenkeeper.login</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.login.login" id="apidoc.element.greenkeeper.login.login">
        function <span class="apidocSignatureSpan">greenkeeper.</span>login
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">login = function (flags) {
  logo()
  log.verbose(&#x27;login&#x27;, &#x27;starting command&#x27;)

  if (flags.token &#x26;&#x26; !flags.force) {
    log.error(&#x27;login&#x27;, story.error_already_logged_in)
    process.exit(1)
  }

  var id = randomString({length: 32})
  log.verbose(&#x27;login&#x27;, &#x27;id&#x27;, id)

  log.verbose(&#x27;login&#x27;, &#x27;Getting token from API and opening GitHub login&#x27;)

  getToken(flags, id, function (data) {
    if (data.disallowedSignup) {
      log.info(&#x27;login&#x27;, &#x27;Signing up for the old Greenkeeper oAuth application is no longer supported.&#x27;)
      log.info(&#x27;login&#x27;, &#x27;The new GitHub Integration was opened instead.&#x27;)
      return
    }

    rc.set(&#x27;api&#x27;, flags.api)
    rc.set(nerfDart(flags.api) + &#x27;token&#x27;, data.token)
    rc.set(nerfDart(flags.api) + &#x27;admin&#x27;, flags.admin)

    log.info(&#x27;login&#x27;, &#x27;That was successful, now syncing all your GitHub repositories&#x27;)
    flags.token = data.token
    sync(flags, function (err, repos) {
      if (err) {
        log.error(&#x27;login&#x27;, err.message)
        process.exit(2)
      }
      log.info(&#x27;login&#x27;, &#x27;Done syncing &#x27; + repos.length + &#x27; repositories&#x27;)
      console.log(&#x27;You are now logged in, synced and all set up!&#x27;)
      log.info(&#x27;login&#x27;, &#x27;Find out how to get started with&#x27;, &#x27;&#x27; + chalk.yellow(&#x27;greenkeeper start&#x27;))
    })
  })

  if (!flags[&#x27;private&#x27;] &#x26;&#x26; !_.has(flags, &#x27;private&#x27;)) {
    return checkEnterprise(function (err, flags, isEnterprise) {
      if (err) {
        log.error(&#x27;login&#x27;, err.message)
        process.exit(2)
      }
      openAuth(isEnterprise)
    })(flags)
  }

  openAuth(flags[&#x27;private&#x27;])

  function openAuth (pvt) {
    var query = {
      id: id,
      private: pvt
    }

    if (flags.admin === false) {
      query.no_admin = true
      query.access_token = flags.token
    }

    var url = flags.api + &#x27;login?&#x27; + qs.encode(query)

    log.verbose(&#x27;login&#x27;, &#x27;Open &#x27; + url)
    open(url, function (err, stdout, stderr) {
      if (err) {
        console.log(&#x27;Login from this URL:&#x27;, url)
      }
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.logout" id="apidoc.module.greenkeeper.logout">module greenkeeper.logout</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.logout.logout" id="apidoc.element.greenkeeper.logout.logout">
        function <span class="apidocSignatureSpan">greenkeeper.</span>logout
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logout = function (flags) {
  log.verbose(&#x27;logout&#x27;, &#x27;starting command&#x27;)

  if (!flags.token) {
    log.error(&#x27;logout&#x27;, story.error_already_logged_out)
    process.exit(1)
  }

  log.http(&#x27;logout&#x27;, &#x27;Sending request&#x27;)
  request({
    method: &#x27;DELETE&#x27;,
    json: true,
    url: flags.api + &#x27;tokens&#x27;,
    headers: {
      Authorization: &#x27;Bearer &#x27; + flags.token
    }
  }, function (err, res, data) {
    if (err) {
      log.error(&#x27;logout&#x27;, err.message)
      process.exit(2)
    }

    if (data.ok) {
      rc.unset(&#x27;token&#x27;)
      rc.unset(nerfDart(flags.api) + &#x27;token&#x27;)
      return console.log(story.logged_out)
    }

    log.error(&#x27;logout&#x27;, res.statusMessage + (res.body.message ? &#x27;: &#x27; + res.body.message : &#x27;&#x27;))
    process.exit(2)
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.npm_verify" id="apidoc.module.greenkeeper.npm_verify">module greenkeeper.npm_verify</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.npm_verify.npm_verify" id="apidoc.element.greenkeeper.npm_verify.npm_verify">
        function <span class="apidocSignatureSpan">greenkeeper.</span>npm_verify
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">npm_verify = function (flags) {
  var pkg
  try {
    pkg = JSON.parse(fs.readFileSync(path.join(process.cwd(), &#x27;package.json&#x27;)))
  } catch (e) {
    log.error(&#x27;npm-verify&#x27;, &#x27;No package.json in this project&#x27;)
    process.exit(1)
  }

  var dependencies = Object.keys(_.assign(
    {},
    pkg.dependencies,
    pkg.devDependencies,
    pkg.optionalDependencies
  ))

  var scoped = dependencies.filter(function (dependency) {
    return dependency[0] === &#x27;@&#x27;
  })

  if (scoped.length === 0) {
    log.info(&#x27;npm-verify&#x27;, &#x27;No scoped packages.&#x27;)
    process.exit()
  }

  request({
    method: &#x27;POST&#x27;,
    url: flags.api + &#x27;npm/verify&#x27;,
    json: true,
    headers: {
      Authorization: &#x27;Bearer &#x27; + flags.token
    },
    body: {
      dependencies: scoped,
      organization: flags.organization
    }
  }, function (err, res, results) {
    if (err) {
      log.error(&#x27;npm-verify&#x27;, err)
      process.exit(2)
    }
    var failed = _.some(results.dependencies, [&#x27;valid&#x27;, false])
    if (failed) log.info(&#x27;npm-verify&#x27;, &#x27;You might need to run &#x27; + chalk.yellow(&#x27;greenkeeper npm-access&#x27;))
    results.dependencies.forEach(function (dep) {
      console.log(&#x27;   &#x27;, chalk.bold(dep.name), dep.valid
        ? process.platform === &#x27;darwin&#x27; ? emoji.get(&#x27;white_check_mark&#x27;) : chalk.green(&#x27;accessible&#x27;)
        : process.platform === &#x27;darwin&#x27; ? emoji.get(&#x27;x&#x27;) : chalk.red(&#x27;inaccessible&#x27;)
      )
    })
    process.exit()
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.organization_access" id="apidoc.module.greenkeeper.organization_access">module greenkeeper.organization_access</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.organization_access.organization_access" id="apidoc.element.greenkeeper.organization_access.organization_access">
        function <span class="apidocSignatureSpan">greenkeeper.</span>organization_access
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">organization_access = function (flags) {
  log.verbose(&#x27;organization-access&#x27;, &#x27;starting command&#x27;)

  if (!flags.token) {
    log.info(&#x27;organization-access&#x27;, &#x27;Not logged in.&#x27;)
    process.exit(1)
  }

  story.forEach(function (message) {
    log.info(&#x27;organization-access&#x27;, message)
  })
  var url = flags.api + &#x27;login/organization-access&#x27;
  log.verbose(&#x27;organization-access&#x27;, &#x27;Open &#x27; + url)
  open(url)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.postpublish" id="apidoc.module.greenkeeper.postpublish">module greenkeeper.postpublish</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.postpublish.postpublish" id="apidoc.element.greenkeeper.postpublish.postpublish">
        function <span class="apidocSignatureSpan">greenkeeper.</span>postpublish
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">postpublish = function (flags) {
  var pkgPath = path.join(process.cwd(), &#x27;package.json&#x27;)
  var pkgFile = fs.readFileSync(pkgPath)
  var pkg
  try {
    pkg = jsonPreserveIndent(pkgFile)
  } catch (e) {
    log.error(&#x27;postpublish&#x27;, &#x27;Could not parse package.json&#x27;)
    process.exit(1)
  }

  if (pkg.get(&#x27;name[0]&#x27;) !== &#x27;@&#x27;) log.warn(&#x27;postpublish&#x27;, &#x27;This is not a scoped package. &#x22;greenkeeper-postpublish&#x22; should not be
 required.&#x27;)

  if (pkg.get(&#x27;devDependencies.greenkeeper-postpublish&#x27;)) {
    log.info(&#x27;postpublish&#x27;, &#x27;greenkeeper-postpublish is already installed&#x27;)
    process.exit()
  }

  if (pkg.get(&#x27;scripts.postpublish&#x27;)) {
    log.error(&#x27;postpublish&#x27;, &#x27;There is already a postpublish script present&#x27;, &#x27;&#x22;postpublish&#x22;: &#x22;&#x27; + pkg.scripts.postpublish + &#x27;&#x22;&#x27;)
    process.exit(1)
  }

  pkg.set(&#x27;scripts.postpublish&#x27;, &#x27;greenkeeper-postpublish&#x27;)

  fs.writeFileSync(pkgPath, pkg.format())

  log.verbose(&#x27;postpublish&#x27;, &#x27;Updated the package.json&#x27;)

  log.info(&#x27;postpublish&#x27;, &#x27;Installing greenkeeper-postpublish&#x27;)
  var spin = spinner()
  exec(&#x27;npm install greenkeeper-postpublish --save-dev&#x27;, function (err, stdout, stderr) {
    clearInterval(spin)
    if (err) {
      log.error(&#x27;postpublish&#x27;, &#x27;Failed to install greenkeeper-postpublish&#x27;, err)
      process.exit(1)
    }
    log.info(&#x27;postpublish&#x27;, &#x27;greenkeeper-postpublish installed and added as devDependency&#x27;)
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.signup" id="apidoc.module.greenkeeper.signup">module greenkeeper.signup</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.signup.signup" id="apidoc.element.greenkeeper.signup.signup">
        function <span class="apidocSignatureSpan">greenkeeper.</span>signup
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">signup = function (flags) {
  log.verbose(&#x27;signup&#x27;, &#x27;starting command&#x27;)

  log.info(&#x27;signup&#x27;, &#x27;Signing up for the old Greenkeeper oAuth application is no longer supported.&#x27;)
  log.info(&#x27;signup&#x27;, &#x27;Opening the new GitHub Integration instead.&#x27;)

  open(&#x27;https://git.io/uptodate&#x27;)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.start" id="apidoc.module.greenkeeper.start">module greenkeeper.start</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.start.start" id="apidoc.element.greenkeeper.start.start">
        function <span class="apidocSignatureSpan">greenkeeper.</span>start
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (flags) {
  process.stdout.write(story())
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.support" id="apidoc.module.greenkeeper.support">module greenkeeper.support</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.support.support" id="apidoc.element.greenkeeper.support.support">
        function <span class="apidocSignatureSpan">greenkeeper.</span>support
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">support = function (flags) {
  log.verbose(&#x27;support&#x27;, &#x27;starting command&#x27;)

  if (!flags.token) {
    log.info(&#x27;support&#x27;, &#x27;Not logged in. Opening GitHub issues.&#x27;)
    open(&#x27;https://github.com/greenkeeperio/greenkeeper&#x27;)
    process.exit(1)
  }

  log.info(&#x27;support&#x27;, &#x27;Opening GitHub issues (free plan) or Intercom&#x27;)

  open(flags.api + &#x27;support?access_token=&#x27; + flags.token)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.sync" id="apidoc.module.greenkeeper.sync">module greenkeeper.sync</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.sync.sync" id="apidoc.element.greenkeeper.sync.sync">
        function <span class="apidocSignatureSpan">greenkeeper.</span>sync
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sync = function (flags) {
  log.verbose(&#x27;sync&#x27;, &#x27;starting command&#x27;)

  if (!flags.token) {
    log.error(&#x27;sync&#x27;, story.error_no_login_first)
    process.exit(1)
  }

  log.http(&#x27;sync&#x27;, &#x27;Sending request&#x27;)
  log.info(&#x27;sync&#x27;, &#x27;This might take a while&#x27;)
  sync(flags, function (err, repos) {
    if (err) {
      log.error(&#x27;sync&#x27;, err.message)
      process.exit(2)
    }
    console.log(repos.sort().join(&#x27;\n&#x27;))
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.toString" id="apidoc.module.greenkeeper.toString">module greenkeeper.toString</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.toString.toString" id="apidoc.element.greenkeeper.toString.toString">
        function <span class="apidocSignatureSpan">greenkeeper.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.upgrade" id="apidoc.module.greenkeeper.upgrade">module greenkeeper.upgrade</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.upgrade.upgrade" id="apidoc.element.greenkeeper.upgrade.upgrade">
        function <span class="apidocSignatureSpan">greenkeeper.</span>upgrade
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upgrade = function (flags) {
  if (flags.api === &#x27;https://api.greenkeeper.io/&#x27;) return callback(null, flags, false)
  request({
    method: &#x27;GET&#x27;,
    json: true,
    url: flags.api
  }, function (err, res, data) {
    if (err) return callback(err, flags)
    if (res.statusCode !== 200) return callback(new Error(res.statusCode), flags)
    callback(null, flags, data.environment === &#x27;enterprise&#x27;)
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.web_app" id="apidoc.module.greenkeeper.web_app">module greenkeeper.web_app</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.web_app.web_app" id="apidoc.element.greenkeeper.web_app.web_app">
        function <span class="apidocSignatureSpan">greenkeeper.</span>web_app
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">web_app = function (flags) {
  var url = &#x27;https://app.greenkeeper.io&#x27;
  open(url, function (err) {
    if (err) return console.log(&#x27;Open this URL:&#x27;, url)
    rc.set(&#x27;web_interface_beta_banner&#x27;, 11)
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.greenkeeper.whoami" id="apidoc.module.greenkeeper.whoami">module greenkeeper.whoami</a></h1>


    <h2>
        <a href="#apidoc.element.greenkeeper.whoami.whoami" id="apidoc.element.greenkeeper.whoami.whoami">
        function <span class="apidocSignatureSpan">greenkeeper.</span>whoami
        <span class="apidocSignatureSpan">(flags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">whoami = function (flags) {
  log.verbose(&#x27;whoami&#x27;, &#x27;starting command&#x27;)

  if (!flags.token) {
    log.error(&#x27;whoami&#x27;, &#x27;Login required. Run &#x27; + chalk.yellow(&#x27;greenkeeper login&#x27;))
    process.exit(1)
  }

  log.info(&#x27;whoami&#x27;, &#x27;If you’re missing organizations run &#x27; + chalk.yellow(&#x27;greenkeeper access&#x27;))

  log.http(&#x27;whoami&#x27;, &#x27;Sending request&#x27;)
  request({
    url: flags.api + &#x27;whoami&#x27;,
    json: true,
    headers: {
      Authorization: &#x27;Bearer &#x27; + flags.token
    }
  }, function (err, res, data) {
    if (err) {
      log.error(&#x27;whoami&#x27;, err.message)
      process.exit(2)
    }

    if (!data.name) {
      log.error(&#x27;whoami&#x27;, res.statusMessage + (res.body.message ? &#x27;: &#x27; + res.body.message : &#x27;&#x27;))
      process.exit(2)
    }

    console.log(story.name(data))
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
